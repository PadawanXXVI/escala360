{% extends "base.html" %}
{% block content %}

<!-- ============================================
     ESCALA360 – Painel de Produtividade (Home)
     Autor: Anderson de Matos Guimarães
     Data: 27/10/2025
   ============================================ -->

<section>
  <!-- Cabeçalho -->
  <header class="mb-8">
    <h1 class="text-3xl font-bold text-indigo-600 dark:text-indigo-400 mb-2">
      Painel de Produtividade do TJSP
    </h1>
    <p class="text-gray-600 dark:text-gray-300 max-w-3xl">
      Acompanhe em tempo real a alocação de plantões, substituições pendentes e desempenho das equipes.
    </p>
  </header>

  <!-- Indicadores (KPI Cards) -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
    <div class="card text-center">
      <h3 class="text-sm text-gray-500 dark:text-gray-400 uppercase">Plantões Alocados</h3>
      <p class="text-4xl font-bold text-indigo-600 dark:text-indigo-400 mt-2">—</p>
      <p class="text-xs text-gray-400 dark:text-gray-500 mt-1">Últimas 24h</p>
    </div>

    <div class="card text-center">
      <h3 class="text-sm text-gray-500 dark:text-gray-400 uppercase">Plantões Vagos</h3>
      <p class="text-4xl font-bold text-red-500 dark:text-red-400 mt-2">—</p>
      <p class="text-xs text-gray-400 dark:text-gray-500 mt-1">Necessitam substituição</p>
    </div>

    <div class="card text-center">
      <h3 class="text-sm text-gray-500 dark:text-gray-400 uppercase">Substituições Pendentes</h3>
      <p class="text-4xl font-bold text-yellow-500 dark:text-yellow-400 mt-2">—</p>
      <p class="text-xs text-gray-400 dark:text-gray-500 mt-1">Em análise</p>
    </div>
  </div>

  <!-- Gráfico Plotly -->
  <div id="grafico" class="card">
    <h2 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4">
      Distribuição Geral de Plantões
    </h2>
    <div id="chart-bi" class="min-h-[400px] flex items-center justify-center text-gray-400 dark:text-gray-500">
      <i class="fas fa-spinner fa-spin mr-2"></i> Carregando dados do painel...
    </div>
  </div>

  <!-- Script Plotly -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</section>

{% endblock %}
